<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Pesquisa de Lotes - BovinTrade</title>
  <link href="https://fonts.googleapis.com/css2?family=Lora:wght@400;600&family=Poppins:wght@300;500;600&display=swap" rel="stylesheet" />
  <style>
    html, body {
      height: 100%;
      margin: 0;
      font-family: 'Poppins', sans-serif;
      background-color: #dedbd2;
    }

    body {
      display: flex;
      justify-content: center;
      align-items: flex-start;
      padding: 40px 60px;
      box-sizing: border-box;
      min-height: 100vh;
      width: 100vw;
    }

    .container {
      background: #fff;
      border: 1px solid #dedbd2;
      border-radius: 16px;
      box-shadow: 0 8px 24px rgba(0, 0, 0, 0.08);
      padding: 2.5rem 3rem;
      width: 100%;
      max-width: 1000px;
      box-sizing: border-box;
      text-align: left;
    }

    h1 {
      font-family: 'Lora', serif;
      color: #8B0000;
      font-weight: 700;
      margin-bottom: 1rem;
      font-size: 2rem;
    }

    p.description {
      font-size: 1.05rem;
      color: #444;
      margin-bottom: 2rem;
      max-width: 700px;
      line-height: 1.4;
    }

    form {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
      margin-bottom: 2rem;
    }

    .form-group {
      flex: 1 1 30%;
      min-width: 220px;
      display: flex;
      flex-direction: column;
    }

    label {
      font-weight: 600;
      margin-bottom: 0.5rem;
      color: #222;
      font-size: 1rem;
    }

    input[type="number"],
    select,
    input[type="text"] {
      width: 100%;
      padding: 10px 12px;
      border: 1.5px solid #dedbd2;
      border-radius: 8px;
      font-size: 1rem;
      font-family: 'Poppins', sans-serif;
      transition: border-color 0.3s ease;
    }

    input[type="number"]:focus,
    select:focus,
    input[type="text"]:focus {
      outline: none;
      border-color: #8B0000;
    }

    button {
      padding: 14px 25px;
      background-color: transparent;
      color: #000;
      border: 2px solid #8B0000;
      border-radius: 10px;
      font-size: 1.1rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      font-family: 'Poppins', sans-serif;
      align-self: flex-start;
    }

    button:hover {
      background-color: #8B0000;
      color: #fff;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      font-size: 1rem;
      font-family: 'Poppins', sans-serif;
    }

    thead {
      background-color: #8B0000;
      color: #fff;
    }

    th, td {
      padding: 12px 15px;
      border: 1px solid #dedbd2;
      text-align: left;
      vertical-align: middle;
    }

    tbody tr:nth-child(even) {
      background-color: #f9f9f9;
    }

    tbody tr:hover {
      background-color: #f1e7e7;
      cursor: pointer;
    }

    .no-results {
      margin-top: 1rem;
      font-size: 1.1rem;
      color: #8B0000;
      font-weight: 600;
      text-align: center;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Pesquisa de Lotes</h1>
    <p class="description">
      Filtre os lotes de bois disponíveis por peso, raça, tipo de alimentação e localização. Ordene os resultados conforme sua preferência.
    </p>

    <form id="searchForm">
      <div class="form-group">
        <label for="pesoMin">Peso Mínimo (kg)</label>
        <input type="number" id="pesoMin" name="pesoMin" step="0.1" min="0" placeholder="Ex: 300" />
      </div>

      <div class="form-group">
        <label for="pesoMax">Peso Máximo (kg)</label>
        <input type="number" id="pesoMax" name="pesoMax" step="0.1" min="0" placeholder="Ex: 450" />
      </div>

      <div class="form-group">
        <label for="raca">Raça</label>
        <select id="raca" name="raca">
          <option value="" selected>Todos</option>
          <option value="angus">Angus</option>
          <option value="nelore">Nelore</option>
          <option value="gir">Gir</option>
          <option value="hereford">Hereford</option>
          <option value="brahman">Brahman</option>
          <option value="outra">Outra</option>
        </select>
      </div>

      <div class="form-group">
        <label for="tipoAlimentacao">Tipo de Alimentação</label>
        <select id="tipoAlimentacao" name="tipoAlimentacao">
          <option value="" selected>Todos</option>
          <option value="pastagem">Pastagem</option>
          <option value="confinamento">Confinamento</option>
          <option value="sistema-integrado">Sistema Integrado</option>
          <option value="outro">Outro</option>
        </select>
      </div>

      <div class="form-group">
        <label for="localizacao">Localização</label>
        <input type="text" id="localizacao" name="localizacao" placeholder="Cidade, Estado, etc." />
      </div>

      <div class="form-group" style="flex: 1 1 100%; min-width: 220px;">
        <label for="ordenarPor">Ordenar por</label>
        <select id="ordenarPor" name="ordenarPor" required>
          <option value="preco">Preço</option>
          <option value="peso">Peso</option>
          <option value="distancia">Distância</option>
        </select>
      </div>

      <button type="submit">Pesquisar</button>
    </form>

    <table id="resultsTable">
      <thead>
        <tr>
          <th>ID</th>
          <th>Quantidade</th>
          <th>Peso Médio (kg)</th>
          <th>Raça</th>
          <th>Preço por Animal (R$)</th>
          <th>Tipo de Alimentação</th>
          <th>Localização</th>
        </tr>
      </thead>
      <tbody>
      </tbody>
    </table>

    <p class="no-results" id="noResults" style="display:none;">Nenhum lote encontrado com os critérios informados.</p>
  </div>

  <script>
    const lotes = [
      { id: '001', quantidade: 50, pesoMedio: 350.5, raca: 'angus', preco: 2200, tipoAlimentacao: 'pastagem', localizacao: 'São Paulo' },
      { id: '002', quantidade: 30, pesoMedio: 400.0, raca: 'nelore', preco: 2100, tipoAlimentacao: 'confinamento', localizacao: 'Minas Gerais' },
      { id: '003', quantidade: 40, pesoMedio: 370.3, raca: 'gir', preco: 2000, tipoAlimentacao: 'sistema-integrado', localizacao: 'Paraná' },
      { id: '004', quantidade: 25, pesoMedio: 420.0, raca: 'hereford', preco: 2300, tipoAlimentacao: 'pastagem', localizacao: 'Rio Grande do Sul' },
      { id: '005', quantidade: 60, pesoMedio: 360.0, raca: 'brahman', preco: 2150, tipoAlimentacao: 'confinamento', localizacao: 'Goiás' }
    ];

    const form = document.getElementById('searchForm');
    const tbody = document.querySelector('#resultsTable tbody');
    const noResults = document.getElementById('noResults');

    form.addEventListener('submit', (e) => {
      e.preventDefault();

      const pesoMin = parseFloat(form.pesoMin.value) || 0;
      const pesoMax = parseFloat(form.pesoMax.value) || Infinity;
      const raca = form.raca.value.toLowerCase();
      const tipoAlimentacao = form.tipoAlimentacao.value.toLowerCase();
      const localizacao = form.localizacao.value.toLowerCase();
      const ordenarPor = form.ordenarPor.value;

      let resultados = lotes.filter(lote => {
        return lote.pesoMedio >= pesoMin &&
               lote.pesoMedio <= pesoMax &&
               (raca === '' || lote.raca === raca) &&
               (tipoAlimentacao === '' || lote.tipoAlimentacao === tipoAlimentacao) &&
               (localizacao === '' || lote.localizacao.toLowerCase().includes(localizacao));
      });

      resultados.sort((a, b) => {
        if (ordenarPor === 'preco') return a.preco - b.preco;
        if (ordenarPor === 'peso') return a.pesoMedio - b.pesoMedio;
        if (ordenarPor === 'distancia') {
          return 0;
        }
        return 0;
      });

      tbody.innerHTML = '';

      if (resultados.length === 0) {
        noResults.style.display = 'block';
      } else {
        noResults.style.display = 'none';
        resultados.forEach(lote => {
          const tr = document.createElement('tr');
          tr.innerHTML = `
            <td>${lote.id}</td>
            <td>${lote.quantidade}</td>
            <td>${lote.pesoMedio.toFixed(1)}</td>
            <td>${capitalize(lote.raca)}</td>
            <td>R$ ${lote.preco.toFixed(2)}</td>
            <td>${capitalize(lote.tipoAlimentacao)}</td>
            <td>${lote.localizacao}</td>
          `;

          tr.addEventListener('click', () => {
            alert(
              `Detalhes do Lote ${lote.id}:\n` +
              `Quantidade: ${lote.quantidade}\n` +
              `Peso Médio: ${lote.pesoMedio.toFixed(1)} kg\n` +
              `Raça: ${capitalize(lote.raca)}\n` +
              `Preço por animal: R$ ${lote.preco.toFixed(2)}\n` +
              `Tipo de Alimentação: ${capitalize(lote.tipoAlimentacao)}\n` +
              `Localização: ${lote.localizacao}`
            );
          });

          tbody.appendChild(tr);
        });
      }
    });

    function capitalize(str) {
      if (!str) return '';
      return str.charAt(0).toUpperCase() + str.slice(1);
    }

  </script>
</body>
</html>
